
= search_form_for @q do |f| 
  = f.search_field :name_cont, :placeholder => "Search with name"
  = f.submit "Search", :class => "btn btn-default"

%br

.row
  .col-md-12
    .grid.simple
      .grid-title.no-border
        %h4
          &nbsp;
        = form_tag '', :method => :get do 
          .panel.panel-default
            .panel-body
              .row
                .col-sm-3
                  %h4= "Device model"
                  .form-group
                    .row
                      .col-sm-8.col-sm-offset-1
                        = select_tag( :by_device_model, options_for_select(all_device_models, params[:by_device_model]), :include_blank => true, :class => "form-control")
                .col-sm-3
                  %h4= "Device type"
                  .form-group
                    .row
                      .col-sm-8.col-sm-offset-1
                        = select_tag( :by_device_type, options_for_select(all_device_types, params[:by_device_type]), :include_blank => true, :class => "form-control")
                .col-sm-3
                  %h4= "Traceable"
                  %br
                  = radio_button_tag 'has_simcard', 'all' , true
                  = "All"
                  %br
                  = radio_button_tag 'has_simcard', 'true' , params["has_simcard"] == 'true' ? true : false
                  = "With Simcard" 
                  %br
                  = radio_button_tag 'has_simcard', 'false' , params["has_simcard"] == 'false' ? true : false
                  = "Without Simcard"

                .col-sm-3
                  %h4
                    Driver
                  %br
                  = radio_button_tag 'available', 'all' , true
                  = "All"
                  %br
                  = radio_button_tag 'available', 'true' , params["available"] == 'true' ? true : false
                  = "Available" 
                  %br
                  = radio_button_tag 'available', 'false' , params["available"] == 'false' ? true : false
                  = "Used"
              %br
              .row
                .col-sm-12
                  = submit_tag 'Apply filters', :class => "btn btn-default"
%br

.row
  .col-md-12
    .grid.simple
      .grid-title.no-border
        %h4
          &nbsp;
        .tools
          %a.collapse{href: "javascript:;"}
          %a.config{"data-toggle" => "modal", href: "#grid-config"}
          %a.reload{href: "javascript:;"}
      .grid-body.no-border
        %h3
          Devices
        %table.table.no-more-tables
          %thead
            %tr
              = content_tag :th, sort_link(@q, :name)
              = content_tag :th, sort_link(@q, :emei)
              = content_tag :th, sort_link(@q, :cost_price)

          %tbody
            
            - @devices.each do |device|
              %tr
                %td= device.name
                %td= device.emei
                %td= device.cost_price
                %td= link_to 'Show', device
                %td= link_to 'Edit', edit_device_path(device)
                %td= link_to 'Destroy', device, :method => :delete, :data => { :confirm => 'Are you sure?' }
%br


= link_to 'New Device', new_device_path, class: "btn btn-success"
